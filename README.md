# MarvelAssignment

# Application Repo
   URL:- https://github.com/amol-bhakare/MarvelAssignment.git 
   Branch:- Master

# Application usage
    Open the app you will see the list of Marvel Characters.
    If you scroll down to bottom of character list, more characters will get load.
    Click on character you want to see detail description.


# iOS Project implemented with Clean Layered Architecture and MVVM.

# Clean Architecture

![Clean Architecture](https://github.globant.com/storage/user/7893/files/82fa7aae-465b-4bd4-bceb-9b683ec87137)

## Layers

1. Domain Layer
   it contains Model, Use Cases and Repositories Interfaces.
   
2. Data Repositories Layer
   it contains Repositories Implementations and API (Network)
   
3. Presentation Layer (MVVM)
   it contains ViewModels and Views
    
## Data Flow

![clean architecture flow diagram](https://github.globant.com/storage/user/7893/files/eb2d778e-781a-4768-a45b-f1a2c5cdcf19)

1. View(UI) calls method from ViewModel (Presenter).
2. ViewModel executes Use Case.
3. Use Case combines data from User and Repositories.
4. Each Repository returns data from a Remote Data (Network).
5. Information flows back to the View(UI) where we display the list of items.

    
# MVVM Pattern

![MVVM pattern](https://github.globant.com/storage/user/7893/files/f506e8a7-45b8-4c13-aed3-ce04da02262b)

The MVVM pattern consists of three layers:

1. Model: App data that the app operates on.
2. View: The user interfaceâ€™s visual elements. In iOS, the view controller is inseparable from the concept of the view.
3. ViewModel: Updates the model from view inputs and updates views from model outputs.

View has a direct relationship to ViewModel and notifies it whenever an event inside View happens. From ViewModel, there is no direct reference to View (only Data Binding)

Data Binding between View and ViewModel can be done for example with closures, delegates or observables (e.g. RxSwift)


# Tuist 
Tuist is a command-line tool that helps you generate, maintain and interact with Xcode projects. It's open-source and written in Swift.

## Tuist commands

## tuist init
    The init command will bootstrap an iOS application, which includes the Info.plist files, an AppDelegate.swift, a tests file, and a Project.swift that contains the definition of the project.

## tuist edit
    To edit your project.swift you can open the relevant Tuist manifests using this command

## tuist generate/ tuist generate -O/tuist generate --open
    Use this command to generate .xcodeproj and .xcworkspace files.
    
## tuist build/ tuist build MarvelAssignment
    Use this command to build the project using particular scheme.
     
## tuist test/ tuist test MarvelAssignment
    Use this command to test all test cases 

## tuist graph
    The command will output the dependency graph as an image.

## tuist clean
    To clean all the data generated by Tuist
   
## tuist clean manifests tests
    To clean only a subset of the data generated by Tuist


## Project.swift

Project.swift file is a manifest file contains metadata for our project. This is the instruction for Tuist to understand how we want our project to be.

e.g.

let project = Project(
  name: "MarvelAssignment",
  organizationName: "Globant India",
  packages: [
    Package.remote(
          url: "https://github.com/Alamofire/Alamofire",
          requirement: .upToNextMajor(
            from: Version(5, 0, 0)
          )
        ),
    Package.remote(
      url: "https://github.com/SDWebImage/SDWebImage.git",
      requirement: .upToNextMajor(
        from: Version(5, 1, 0)
      )
    ),
    Package.remote(
      url: "https://github.com/Moya/Moya.git",
      requirement: .upToNextMajor(
        from: Version(15, 0, 0)
      )
    ),
    Package.remote(
      url: "https://github.com/rjeprasad/RappleProgressHUD.git",
      requirement: .upToNextMajor(
        from: Version(4, 0, 0)
      )
    )
    
  ],
  settings: nil,
  targets: [
    Target(
      name: "MarvelAssignment",
      platform: .iOS,
      product: .app,
      bundleId: "com.globant.MarvelAssignment",
      infoPlist: "MarvelAssignment/Resources/MarvelAssignment.plist",
      sources: ["MarvelAssignment/Sources/**"],
      resources: ["MarvelAssignment/Resources/**"],
      dependencies: [
        .package(product: "Alamofire"),
        .package(product: "SDWebImage"),
        .package(product: "Moya"),
        .package(product: "RappleProgressHUD")
      ],
      settings: nil
    ),
    Target(
      name: "MarvelAssignmentTests",
      platform: .iOS,
      product: .unitTests,
      bundleId: "com.globant.MarvelAssignmenttests",
      infoPlist: "MarvelAssignmentTests/Resources/MarvelAssignmentTests.plist",
      sources: ["MarvelAssignmentTests/Sources/**"],
      dependencies: [
        .target(name: "MarvelAssignment")
      ]
      
    )
  ]
)

Use tuist generate -O command on terminal your project and workspace will get generate and you can interact with code.

You can also add build settings for target and project using settings attribute.


# References
1. https://tech.olx.com/clean-architecture-and-mvvm-on-ios-c9d167d9f5b3
2. https://docs.tuist.io/tutorial/get-started
3. https://www.raywenderlich.com/5121-moya-tutorial-for-ios-getting-started#toc-anchor-009
